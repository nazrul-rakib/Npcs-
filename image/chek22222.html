<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Class Wise Student Chart</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #f9f9f9;
    }

    .chart-container {
      width: 100%;
      max-width: 800px;
      margin: auto;
      background: #fff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    .chart-box {
      position: relative;
      height: 450px;
      transition: height 0.5s ease;
    }

    /* Responsive height for smaller screens */
    @media (max-width: 600px) {
      .chart-box {
        height: 300px; /* ছোট স্ক্রীনে হাইট কমিয়ে দিবে */
      }
    }

   @media (max-width: 400px) {
  .chart-box {
    height: 220px; /* আরো ছোট স্ক্রীনে আরও কম */
  }
  .chart-container h2 {
    font-size: 16px !important;
  }
}

    h2 {
      text-align: center;
      margin-bottom: 15px;
      font-size: 24px;
      color: #333;
    }
  </style>
</head>
<body>

  <div class="chart-container">
    <h2>শ্রেণি অনুযায়ী শিক্ষার্থীর সংখ্যা (প্লে-১০ম)</h2>
    <div class="chart-box">
      <canvas id="columnChart"></canvas>
    </div>
  </div>

  <script>
    const ctx = document.getElementById('columnChart').getContext('2d');
    let columnChart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ['প্লে', 'নার্সারি', '১ম', '২য়', '৩য়', '৪র্থ', '৫ম', '৬ষ্ঠ', '৭ম', '৮ম', '৯ম', '১০ম'],
        datasets: [{
          label: 'শিক্ষার্থীর সংখ্যা',
          data: [30, 26, 35, 33, 35, 32, 36, 25, 28, 22, 21, 20],
          backgroundColor: [
            '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0',
            '#9966FF', '#FF9F40', '#66BB6A', '#f06292',
            '#BA68C8', '#9575CD', '#7986CB', '#4DD0E1'
          ],
          borderRadius: 6,
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,  // height সেটিং কাজ করবে
        scales: {
          y: {
            beginAtZero: true,
            title: {
              display: true,
              text: 'সংখ্যা'
            }
          },
          x: {
            title: {
              display: true,
              text: 'শ্রেণি'
            }
          }
        },
        plugins: {
          legend: {
            display: true,
            position: 'top'
          },
          datalabels: {
            anchor: 'end',
            align: 'end',
            color: '#444',
            font: {
              weight: 'bold',
              size: 14
            },
            formatter: function(value) {
              return value;
            }
          }
        }
      },
      plugins: [ChartDataLabels]
    });

    // Optional: উইন্ডো রিসাইজ হলে চার্ট আপডেট করার জন্য
    window.addEventListener('resize', () => {
      columnChart.resize();
    });
    function updateDataLabelFontSize() {
  const width = window.innerWidth;
  if (width <= 600) {
    columnChart.options.plugins.datalabels.font.size = 7;  // ছোট ফন্ট
  } else {
    columnChart.options.plugins.datalabels.font.size = 14;  // বড় ফন্ট (ডিফল্ট)
  }
  columnChart.update();
}

// প্রথমে কল দিন
updateDataLabelFontSize();

// তারপর resize এ কল দিন
window.addEventListener('resize', () => {
  updateDataLabelFontSize();
});

  </script>

</body>
</html>
